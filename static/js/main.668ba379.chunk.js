(this["webpackJsonpreact-exchange-realtime2"]=this["webpackJsonpreact-exchange-realtime2"]||[]).push([[0],{20:function(e,t,a){},39:function(e,t,a){e.exports=a(74)},44:function(e,t,a){},45:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),l=a.n(o),c=(a(44),a(45),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn ".concat(e.btnType),onClick:e.handleOnClick},e.btnName?e.btnName:r.a.createElement("span",{className:"swap"},"\u21c5")))}),i=a(31),u=a.n(i),s=function(e){var t=e.countryCode,a=e.titleMonetary;return r.a.createElement("div",{className:"exchange_component_title"},r.a.createElement(u.a,{currency:t,width:40}),r.a.createElement("div",{className:"monetary_code exchange_component_item"},a))},m=(a(20),function(e){var t=e.classModal,a=e.titleModal,n=e.children,o=e.typeModal,l=e.handleCloseModal;return r.a.createElement("div",{className:o},r.a.createElement("div",{className:"modal-overlay"},r.a.createElement("div",{className:"modal-wrapper"},r.a.createElement("div",{className:t},r.a.createElement("h1",null,a),r.a.createElement("span",{className:"isClose",onClick:l},"x"),n))))}),p=a(1),d=a(14),h=a.n(d),E=a(36),_={EXCHANGE_RATES:"https://open.exchangerate-api.com/v6/latest",EXCHANGE_RATEAPI:"https://api.exchangeratesapi.io/latest",COUNTRY_MONETARY:"https://openexchangerates.org/api/currencies.json"},g=a(15),y=a.n(g),C=function(e){return{type:"FROM/SWITCH_OBJECT_FROM",payload:e}},O=function(e){return{type:"APP/CLOSE_ALL_MODAL",payload:e}},b={setShowModelCurrencies:function(e){return{type:"APP/TOGGLE_CURRENT_MODAL",payload:e}},setShowSettingModal:function(e){return{type:"APP/TOGGLE_SETTING_MODAL",payload:e}}},f=Object(p.b)(null,b)((function(e){var t=e.setShowModelCurrencies,a=e.setShowSettingModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header-wrapper"},r.a.createElement("h1",{className:"header_title"},"Currency Conversion"),r.a.createElement("div",{className:"header__button-wrapper"},r.a.createElement(c,{btnType:"header__edit_cur",btnName:"Edit Currencies",handleOnClick:function(){t()}}),r.a.createElement(c,{btnType:"header__settings",btnName:"Setting",handleOnClick:function(){a()}}))))})),v=a(6),M={setInputValue:function(e){return{type:"APP/SET_ORIGINAL_VALUE",payload:e}},setCurrentObject:function(e){return{type:"FROM/SET_CURRENT_OBJECT_FROM",payload:e}},setObjectForm:C},N=Object(p.b)((function(e){return{changeObjectFrom:e.appReducers.changeObjectFrom,currentObjectFrom:e.appReducers.currentObjectFrom}}),M)((function(e){var t=e.setInputValue,a=e.changeObjectFrom,o=e.setCurrentObject,l=Object(n.useState)(""),c=Object(v.a)(l,2),i=c[0],u=c[1];return o(a),Object.keys(a).length>0?r.a.createElement("div",{className:"block_wrapper currentBlock"},r.a.createElement("div",null,r.a.createElement("div",{className:"Card__title"},r.a.createElement(s,{titleMonetary:a.fullCountryName,countryCode:a.countryCode})),r.a.createElement("input",{type:"number",onChange:function(e){var a=e.target.value;t(a),u(a)},className:"Card__input",value:i}),r.a.createElement("div",{className:"Card__show_value"},a.countryCode," ","".concat(i)))):null})),R=a(12),F={toggleFavouriteMonetary:function(e){return{type:"APP/TOGGLE_FAVOURITE_MONETARY",payload:e}},modalSearch:function(e){return{type:"MODAL/SEARCH_CURRENT_MODAL",payload:e}},setCloseAllModal:O},S=Object(p.b)((function(e){return{showFullCountryNames:e.appReducers.showFullCountryNames,faviousCountries:e.appReducers.faviousCountries,isCurrencyModelShowing:e.appReducers.isCurrencyModelShowing}}),F)((function(e){var t=e.showFullCountryNames,a=e.toggleFavouriteMonetary,n=e.modalSearch,o=e.isCurrencyModelShowing,l=e.setCloseAllModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{titleModal:"Currency Modal",classModal:"currencyModal",typeModal:"currencyModal-wrapper ".concat(o?"isShowing":""),handleCloseModal:function(){return l()}},r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",className:"currencyModal__search",placeholder:"Search currencies",onChange:function(e){var t=e.target.value;n(t.toLowerCase()||"")}}),r.a.createElement("ul",{className:"currencyModal__list"},t.length>0?t.map((function(e){return r.a.createElement("li",{className:"currencyModal__item ".concat(e.isFavorite?"favoritedItem":""),key:Object(R.v4)(),onClick:function(){return function(e){a(e)}(e)}},r.a.createElement(s,{titleMonetary:e.fullCountryName,countryCode:e.countryCode}),e.isFavorite&&r.a.createElement("span",{className:"selected_item"},"\u2605"))})):r.a.createElement("p",null,"nothing to show")))))})),A={setObjectForm:C},w=Object(p.b)((function(e){return{faviousCountries:e.appReducers.faviousCountries,inputOriginalValue:e.appReducers.inputOriginalValue,currentObjectFrom:e.appReducers.currentObjectFrom}}),A)((function(e){var t=e.inputOriginalValue,a=e.faviousCountries,n=e.setObjectForm,o=e.currentObjectFrom;return r.a.createElement(r.a.Fragment,null,a.length>0?a.map((function(e){return r.a.createElement("div",{key:Object(R.v4)(),className:"block_wrapper targetBlock"},r.a.createElement("div",{className:"Card__title"},r.a.createElement("button",{onClick:function(){return function(e){n(e)}(e)},className:"btn switch_to_currentBlock"},"\u21c5"),r.a.createElement(s,{titleMonetary:e.fullCountryName,countryCode:e.countryCode})),r.a.createElement("div",{className:"Card__show_value"},e.countryCode," ",function(e){var a=parseFloat(e.baseRate)/parseFloat(o.baseRate)*parseFloat(t);return isNaN(a)?"":a.toLocaleString("fullwide",{maximumFractionDigits:2})}(e)))})):r.a.createElement("p",null,'Please add your favorite country by click on button "Edit currencies"'))})),T={setApiUrl:function(e){return{type:"APP/SET_API_URL",payload:e}},setCloseAllModal:O},j=Object(p.b)((function(e){return{isSettingModelShowing:e.appReducers.isSettingModelShowing,apiRateUrl:e.appReducers.apiRateUrl}}),T)((function(e){var t=e.isSettingModelShowing,a=e.setApiUrl,o=e.setCloseAllModal,l=Object(n.useState)(""),i=Object(v.a)(l,2),u=i[0],s=i[1],p={url:"https://open.exchangerate-api.com/v6/latest",key:!1,aboutLink:"https://www.exchangerate-api.com/docs/free-exchange-rate-api"},d={url:"https://api.exchangeratesapi.io/latest",key:!1,abountLink:"https://exchangeratesapi.io/"},h={url:"https://openexchangerates.org/api/latest.json",key:!0,aboutLink:"https://docs.openexchangerates.org/"};return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,{titleModal:"Setting",classModal:"settingModal",typeModal:"settingModal-wrapper  ".concat(t?"isShowing":""),handleCloseModal:function(){return o()}},r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"settingModal__source_api"},"Source"),r.a.createElement("select",{id:"settingModal__source_api",name:"source_api",className:"settingModal__item",onChange:function(e){return function(e){var t=e.target.value;s(t)}(e)},value:u},r.a.createElement("option",{value:"https://open.exchangerate-api.com/v6/latest"},"ExchangeRate-API (free - no key)"),r.a.createElement("option",{value:"https://api.exchangeratesapi.io/latest"},"Rates from European Central Bank (free - no key)"),r.a.createElement("option",{value:"https://openexchangerates.org/api/latest.json"},"Open Exchange Rates (free - key required)")),"https://openexchangerates.org/api/latest.json"===u?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"settingModal__inputKey settingModal__item"},"Key"),r.a.createElement("input",{id:"settingModal__inputKey",type:"text",placeholder:"Please inseart your key",onChange:function(e){var t=e.target.value;console.log("OUTPUT: _handleKeyInput -> value",t)},className:"settingModal__inputKey settingModal__item"})):null,r.a.createElement("a",{href:"".concat(u),className:"settingModal__link settingModal__item"},"Learn more about this source."),r.a.createElement("div",{className:"settingModal__btn__wrapper"},r.a.createElement(c,{btnType:"btn settingModal__btn",handleOnClick:function(){return o()},btnName:"Cancel"})," ","|",r.a.createElement(c,{btnType:"btn settingModal__btn",handleOnClick:function(){u===p.url?a(p):u===d.url?a(d):u===h.url&&a(h)},btnName:"Save"})))))})),P={fetchRateNames:function(){return function(){var e=Object(E.a)(h.a.mark((function e(t,a){var n,r,o,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"APP/FETCH_RATE_NAMES_START"}),e.prev=1,n=a().appReducers.apiRateUrl.url,e.next=5,y.a.get(n);case 5:return r=e.sent,o=r.data.rates,e.next=9,y.a.get(_.COUNTRY_MONETARY);case 9:l=e.sent,c=l.data,t({type:"APP/FETCH_RATE_NAMES_SUCCESS",payload:{rates:o,data:c}}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),t({type:"APP/FETCH_RATE_NAMES_FAIL"});case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,a){return e.apply(this,arguments)}}()}},k=Object(p.b)(null,P)((function(e){var t=e.fetchRateNames;return Object(n.useEffect)((function(){t()}),[t]),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"container"},r.a.createElement(f,null),r.a.createElement("h2",null,"From:"),r.a.createElement(N,null),r.a.createElement("h2",null,"To: "),r.a.createElement(w,null),r.a.createElement(S,null),r.a.createElement(j,null)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var L=a(2),x=a(4),U=a(37),I=a(38),G=a(9),D={loading:!1,error:!1,showFullCountryNames:[],initialFullCountryNames:[],inputOriginalValue:"",allRates:"",faviousCountries:[],changeObjectFrom:{fullCountryName:"USD United States Dollar",countryCode:"USD",baseRate:1,isFavorite:!1},currentObjectFrom:{},isCurrencyModelShowing:!1,isSettingModelShowing:!1,apiRateUrl:{url:"https://open.exchangerate-api.com/v6/latest",key:!1,aboutLink:"https://www.exchangerate-api.com/docs/free-exchange-rate-api"}},H={appReducers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/FETCH_RATE_NAMES_START":return Object(L.a)({},e,{loading:!0});case"APP/FETCH_RATE_NAMES_SUCCESS":for(var a=t.payload,n=a.rates,r=a.data,o=[],l=0,c=Object.entries(r);l<c.length;l++){var i=Object(v.a)(c[l],2),u=i[0],s=i[1],m=n["".concat(u)],p={fullCountryName:"".concat(u," ").concat(s),countryCode:"".concat(u),baseRate:m,isFavorite:!1};void 0!==p.baseRate&&o.push(p)}return Object(L.a)({},e,{loading:!1,showFullCountryNames:o,originalCountryNames:o,initialFullCountryNames:o,allRates:n});case"APP/SET_ORIGINAL_VALUE":return Object(L.a)({},e,{inputOriginalValue:t.payload});case"APP/TOGGLE_FAVOURITE_MONETARY":var d=e.initialFullCountryNames.map((function(e){return e.fullCountryName===t.payload.fullCountryName&&(e.isFavorite=!e.isFavorite),e})),h=d.filter((function(e){return e.isFavorite})),E=d.filter((function(e){return!e.isFavorite}));return Object(L.a)({},e,{faviousCountries:h,showFullCountryNames:[].concat(Object(G.a)(h),Object(G.a)(E))});case"MODAL/SEARCH_CURRENT_MODAL":var _=e.initialFullCountryNames.filter((function(e){return e.isFavorite})),g=e.initialFullCountryNames.filter((function(e){return!e.isFavorite})),y=[].concat(Object(G.a)(_),Object(G.a)(g)).filter((function(e){return-1!==e.fullCountryName.toLowerCase().indexOf(t.payload)}));return Object(L.a)({},e,{showFullCountryNames:y});case"FROM/SWITCH_OBJECT_FROM":return Object(L.a)({},e,{changeObjectFrom:t.payload,faviousCountries:e.faviousCountries.map((function(a){return a.countryCode===t.payload.countryCode?e.changeObjectFrom:a}))});case"FROM/SET_CURRENT_OBJECT_FROM":return Object(L.a)({},e,{currentObjectFrom:t.payload});case"APP/TOGGLE_CURRENT_MODAL":return Object(L.a)({},e,{isCurrencyModelShowing:!e.isCurrencyModelShowing});case"APP/TOGGLE_SETTING_MODAL":return Object(L.a)({},e,{isSettingModelShowing:!e.isSettingModelShowing});case"APP/CLOSE_ALL_MODAL":return Object(L.a)({},e,{isSettingModelShowing:!1,isCurrencyModelShowing:!1});case"APP/SET_API_URL":return Object(L.a)({},e,{apiRateUrl:t.payload});default:return e}}},V=Object(x.combineReducers)(Object(L.a)({},H)),B=Object(x.createStore)(V,Object(U.composeWithDevTools)(Object(x.applyMiddleware)(I.a)));l.a.render(r.a.createElement(p.a,{store:B},r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.668ba379.chunk.js.map